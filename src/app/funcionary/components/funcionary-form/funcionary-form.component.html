<div class="containerDataForm">
  <form id="formColumn" [formGroup]="funcionaryDataForm" (ngSubmit)="saveFuncionary()">
    <div class="titleWeb" align="center" style="margin-top: -2rem">
      <figure>
        <p style="font-size: 45px" class="lead">
          {{funcionaryServices.funcionarySelected ? "Editar datos del Funcionario" : "Nuevo Funcionario"}}
        </p>
        <figcaption class="blockquote-footer">
          Por favor colocar toda la información que se pide a continuación, con
          la información
          <strong><cite title="Source Title">correcta</cite></strong> y <strong><cite title="Source Title">veridica.</cite></strong>
        </figcaption>
      </figure>
    </div>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Nombre Completo:</mat-label>
      <input matInput formControlName="name"/>
      <mat-error *ngIf="funcionaryDataForm.get('name')?.hasError('required')">
        Obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Apellido Paterno:</mat-label>
      <input matInput formControlName="surnameFather"/>
      <mat-error *ngIf="funcionaryDataForm.get('surnameFather')?.hasError('required')">
        Obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Apellido Materno:</mat-label>
      <input matInput formControlName="surnameMother"/>
      <mat-error *ngIf="funcionaryDataForm.get('surnameMother')?.hasError('required')">
        Obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Número de DNI:</mat-label>
      <input maxlength="8" minlength="8" pattern="[0-8]*" matInput formControlName="dni"/>
      <mat-error *ngIf="funcionaryDataForm.get('dni')?.hasError('required')">
        Obligatorio
      </mat-error>
      <mat-error *ngIf="funcionaryDataForm.get('dni')?.hasError('pattern')">
        Ingresar DNI Correcto
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Número de celular:</mat-label>
      <input maxlength="9" minlength="9" pattern="[0-9]*" matInput formControlName="phoneNumber"/>
      <mat-error *ngIf="funcionaryDataForm.get('phoneNumber')?.hasError('required')">
        Obligatorio
      </mat-error>
      <mat-error *ngIf="funcionaryDataForm.get('phoneNumber')?.hasError('pattern')">
        Ingresar Teléfono Correcto
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Rango:</mat-label>
      <mat-select formControlName="range">
        <mat-option value="Psicologo">Psicologo</mat-option>
        <mat-option value="Doctora">Doctora</mat-option>
        <mat-option value="Directora">Directora</mat-option>
        <mat-option value="Guía">Guía</mat-option>
        <mat-option value="Ayudante">Ayudante</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field
      class="formForRegister formForRegister"
      *ngIf="funcionaryDataForm.get('range')?.value === 'Psicologo' || funcionaryDataForm.get('range')?.value === 'Doctora'">
      <mat-label>
        ¿Cumple los requisitos para ejercer como Tutor Legal?
      </mat-label>
      <mat-select formControlName="confirmation">
        <mat-option value="S">Sí, las cumple.</mat-option>
        <mat-option value="N">No, no las cumple.</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Dirección:</mat-label>
      <input matInput formControlName="address"/>
      <mat-error *ngIf="funcionaryDataForm.get('address')?.hasError('required')">
        Obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Correo Electronico:</mat-label>
      <input matInput placeholder="pat@example.com" required formControlName="email"/>
      <mat-error *ngIf="funcionaryDataForm.get('surnamefather')?.hasError('required')">
        Obligatorio
      </mat-error>
    </mat-form-field>

    <mat-form-field class="formForRegister formForRegister">
      <mat-label>Ubicación:</mat-label>
      <mat-select matInput formControlName="codubi">
        <mat-option *ngFor="let dUbi of ubigeoData" [value]="dUbi.codubi">
          {{ dUbi.depar }} - {{ dUbi.provi }} - {{ dUbi.distri }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <div id="buttonActions">
      <button type="button" id="buttonCancel" mat-flat-button color="primary" (click)="navigateToFuncionaryList()">
        Cancelar
      </button>
      <button type="submit" id="buttonSave" mat-flat-button color="accent" [disabled]="funcionaryDataForm.invalid">
        {{ funcionaryServices.funcionarySelected ? "Modificar" : "Registrar" }}
      </button>
    </div>
  </form>
</div>
